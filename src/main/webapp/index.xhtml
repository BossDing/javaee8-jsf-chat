<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf">
 	<head jsf:id="head">
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
 		<title>Welcome to JSF 2.3 Chat!</title>
 		<h:outputStylesheet library="css" name="bootstrap.min.css" />
 	</head>
    <body jsf:id="body">
	    <div class="container">
	    	<div class="jumbotron">
				<h1>Welcome to JSF 2.3 Chat</h1>
				<p>#{indexController.message}</p>
			</div>
			<div class="row">
				<div class="col-sm-12 center-block"><h2>Enter your identification to begin:</h2></div>
			</div>
			<form class="form-horizontal" jsf:id="form" jsf:prependId="false">
				<div class="form-group">
					<label for="login">Nickname</label>
					<input type="text" class="form-control" jsf:id="nickname" jsf:value="#{indexController.user.nickname}">
						<f:ajax onevent="onblur" execute="@this" listener="#{indexController.verifyNicknameUniqueness()}" />
					</input>	
					<span id="nickname-error" class="form-control alert-danger" style="display:none">Username is already in use.</span>
				</div>
				<div class="form-group">
					<label for="name">Name</label>
					<input type="text" class="form-control" jsf:id="name" jsf:value="#{indexController.user.name}" />
					<h:message  />
				</div>
				<div class="form-group">
					<label for="remember">Remember?</label>
					<input type="checkbox" jsf:id="remember" jsf:value="#{indexController.rememberMe}" />
				</div>
				<div class="form-group">
					<button type="submit" class="btn btn-success" jsf:id="btnSignin" jsf:action="#{indexController.signIn()}">Signin</button>
				</div>
				<div>
					<h:messages styleClass="alert" errorClass="alert-danger" warnClass="alert-warning" infoClass="alert-success" />
					<h:outputText value="#{indexController.user}" />
				</div>
			</form>
			<!-- 
			#{applicationScope}
			-->
		</div>
    </body>
</html>
